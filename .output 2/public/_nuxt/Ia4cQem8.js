import{_ as b,j as h,k as y,c as r,a as s,l as w,m as p,v as m,p as a,q as _,t as k,r as x,s as d,o as u}from"./C_A17Xze.js";const B={class:"login-container"},S={class:"login-card"},V={class:"form-group"},q=["disabled"],D={class:"form-group"},M=["disabled"],E={key:0,class:"error-message"},I=["disabled"],L={key:0},N={key:1},R={__name:"login",setup(T){const{login:g}=h(),f=y(),i=d(""),n=d(""),o=d(!1),t=d(null),v=async()=>{try{o.value=!0,t.value=null;const l=await g({email:i.value,password:n.value});l.success?f.push("/dashboard"):t.value=l.error}catch(l){t.value=l.data?.statusMessage||l.message||"Login failed"}finally{o.value=!1}};return(l,e)=>(u(),r("div",B,[s("div",S,[e[4]||(e[4]=s("div",{class:"logo"},[s("h1",{class:"brand"},"DigiBlog"),s("p",{class:"subtitle"},"Transformez l’actualité en articles de blog prêts à publier")],-1)),s("form",{onSubmit:w(v,["prevent"]),class:"login-form"},[s("div",V,[e[2]||(e[2]=s("label",{for:"email"},"Email address",-1)),p(s("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=c=>_(i)?i.value=c:null),placeholder:"name@company.com",required:"",disabled:a(o)},null,8,q),[[m,a(i)]])]),s("div",D,[e[3]||(e[3]=s("label",{for:"password"},"Password",-1)),p(s("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=c=>_(n)?n.value=c:null),placeholder:"••••••••",required:"",disabled:a(o)},null,8,M),[[m,a(n)]])]),a(t)?(u(),r("div",E,k(a(t)),1)):x("",!0),s("button",{type:"submit",class:"btn btn-primary full-width",disabled:a(o)},[a(o)?(u(),r("span",L,"Signing in...")):(u(),r("span",N,"Sign In"))],8,I)],32)])]))}},j=b(R,[["__scopeId","data-v-e73132d2"]]);export{j as default};
